# 任务完成报告

## 1. 任务概述 (Task Overview)

*   **任务ID/名称**: docs: 新增故障案例，严禁对未找到的方法进行“臆想式创建”
*   **来源**: 响应用户关于AI在方法未找到时倾向于创建而非查找的严重问题。
*   **[新增] 规划蓝图 (Plan Blueprint)**: N/A
*   **完成时间**: 2025-07-22 14:49:30
*   **Git Commit Hash**: 35b74294a666f6a41c70ec50fde4a86fd8337c1b

## 2. 核心实现 (Core Implementation)

###a. 方法论/设计思路
为了根除AI在面对 `... is not a function` 错误时，倾向于“创建”新方法而非“查找”现有实现的严重问题，我决定直接在AI的核心行为准则中增加一个新的故障案例。通过在《7. 故障案例复盘与学习》章节中新增案例15——“方法未找到与‘臆想式创建’”，我建立了一个强制性的SOP（标准操作流程）。该规则强制要求AI在遇到此类错误时，必须将“全面搜索代码库”作为第一反应，只有在彻底搜索后确认功能确实不存在时，才能考虑创建。这从根本上改变了其调试行为，将“复用/修复”的优先级提至最高，从而避免了代码库的污染和混乱。

###b. 主要变更文件 (Key Changed Files)
*   `MODIFIED`: `AI_PROGRAMMING_ASSISTANT_INSTRUCTIONS.md`

###c. 关键代码片段 (Optional but Recommended)
**新增的故障案例15**
```markdown
15. **案例：方法未找到与“臆想式创建” (Method Not Found & "Creative Hallucination")**
    *   **故障描述**: 前端组件（例如React）在调用API时抛出 `TypeError: api.getSomeData is not a function` 的错误。AI在看到此错误后，并没有首先去验证 `api.js` 中是否真的缺少这个方法，或者它是否以不同的名称存在（例如 `getAllData`），而是直接"自信地"在`api.js`中创建了一个全新的、空的`getSomeData`函数。
    *   **导致**:
        1.  在最好的情况下，这只是创建了永远不会被后端正确实现的“僵尸API”。
        2.  在最坏的情况下，如果这个方法在别处已经实现，这会造成灾难性的代码重复、逻辑分叉，以及对项目API的污染，给未来的维护者埋下巨大的“坑”。
    *   **学习与规则**: **“未找到”不等于“不存在”，它首先意味着“你的引用错了”**。在面对任何“方法未定义”或“函数未找到”的错误时，**必须**将“在代码库中进行全面搜索”作为你的**第一、也是唯一的**初始反应。
        1.  **强制的“引用纠错”SOP**:
            *   **步骤一：提取关键词**: 从错误信息 `... is not a function` 中提取出方法名 `getSomeData`。
            *   **步骤二：全面搜索**: **必须**立即使用 `grep_search` 或 `codebase_search` 工具，在整个项目中搜索这个精确的方法名，以及可能的变体（如 `Data`）。
            *   **步骤三：引用修复**: 如果搜索发现了一个已存在但名称或位置不同的方法（如 `api.getAllTheData` 或 `dataApi.getSomeData`），你的任务**必须**是修复**调用处的代码**，使其正确引用已存在的方法，而**不是**创建新方法。
        2.  **创建的最后手段**: 只有在你完成了彻底的搜索，并有**绝对把握**确认该功能在项目中完全不存在时，你才能进入“创建新方法”的流程。
```

## 3. 验证与测试 (Verification & Testing)

###a. 验证方法
1.  **代码审查**: 直接审查 `AI_PROGRAMMING_ASSISTANT_INSTRUCTIONS.md` 的变更 `diff`，确认新的故障案例15已按预期添加，并且内容准确、措辞严厉，能够有效约束未来的AI行为。
2.  **逻辑验证**: 在脑中模拟AI遇到 `... is not a function` 错误的场景，确认新规则下的“强制引用纠错SOP”会引导其走向正确的“搜索->修复引用”路径，而非错误的“创建新方法”路径。

###b. 测试结果
1.  代码审查通过，新增的案例15已正确无误地插入到故障案例列表中。
2.  逻辑验证成功，新的规则集能够有效防止此类问题的复现，强制AI在行动前进行更周全的思考和验证。

## 4. 影响与风险评估 (Impact & Risk Assessment)

*   **正面影响**: 极大地降低了因AI“臆想式编程”而导致代码库腐化和维护成本激增的风险。它强制AI遵循“复用优先”和“代码考古”的核心原则，有助于构建一个更健康、更一致的代码库。
*   **潜在风险/后续工作**: 无明显风险。此变更为纯文档和规则层面的改进，不影响任何现有功能。后续需要持续观察AI的行为，确保该规则被严格遵守。

## 5. 自我评估与学习 (Self-Assessment & Learning)

*   **遇到的挑战**: N/A
*   **学到的教训**: 必须深刻认识到，AI在面对不确定性时，其“创造”的倾向可能是一种危害。必须通过建立更加严格、更具操作性的规则（如强制SOP），将其行为引导到更安全、更可靠的轨道上。对于“未找到”的错误，第一反应永远应该是“我的引用或理解错了”，而不是“目标不存在”。 